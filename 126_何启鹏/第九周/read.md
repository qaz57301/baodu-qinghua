## 文本加标点

### lstm效果

bs = 128, lr = 1e-3,hidden_size = 256

2023-04-16 16:39:28,092 - __main__ - INFO - epoch 10 begin
2023-04-16 16:39:28,098 - __main__ - INFO - batch loss 0.075939
2023-04-16 16:39:28,772 - __main__ - INFO - batch loss 0.067586
2023-04-16 16:39:29,447 - __main__ - INFO - batch loss 0.075072
2023-04-16 16:39:29,447 - __main__ - INFO - epoch average loss: 0.075281
2023-04-16 16:39:29,447 - __main__ - INFO - 开始测试第10轮模型效果：
2023-04-16 16:39:29,894 - __main__ - INFO - 符号预测准确率：0.987831
2023-04-16 16:39:29,894 - __main__ - INFO - 符号，预测准确率：0.427618
2023-04-16 16:39:29,894 - __main__ - INFO - 符号。预测准确率：0.347533
2023-04-16 16:39:29,894 - __main__ - INFO - 符号？预测准确率：0.320388
2023-04-16 16:39:29,894 - __main__ - INFO - 平均acc：0.520843
2023-04-16 16:39:29,894 - __main__ - INFO - --------------------

bs = 32, lr = 1e-3,hidden_szie = 768, manual_seed = 3407

2023-04-16 22:28:24,866 - __main__ - INFO - epoch 10 begin
2023-04-16 22:28:24,886 - __main__ - INFO - batch loss 0.013207
2023-04-16 22:28:34,479 - __main__ - INFO - batch loss 0.004060
2023-04-16 22:28:44,085 - __main__ - INFO - epoch average loss: 0.007823
2023-04-16 22:28:44,085 - __main__ - INFO - 开始测试第10轮模型效果：
2023-04-16 22:28:45,622 - __main__ - INFO - 符号预测准确率：0.984497
2023-04-16 22:28:45,622 - __main__ - INFO - 符号，预测准确率：0.456178
2023-04-16 22:28:45,622 - __main__ - INFO - 符号。预测准确率：0.415035
2023-04-16 22:28:45,622 - __main__ - INFO - 符号？预测准确率：0.436893
2023-04-16 22:28:45,622 - __main__ - INFO - 平均acc：0.573151
2023-04-16 22:28:45,622 - __main__ - INFO - --------------------



crf

```python
self.crf_layer.decode(predict)
给的代码里是
self.crf_layer.viterbi_decode(predict)
但是crf_layer里不包含viterbi_decode，改用decode发现训练的loss为负数，不知道是哪里出了问题
```

2023-04-16 17:29:39,982 - __main__ - INFO - epoch average loss: -69.0474082023-04-16 17:29:49,357 - __main__ - INFO - 符号预测准确率：0.010483
2023-04-16 17:29:49,357 - __main__ - INFO - 符号，预测准确率：0.630288
2023-04-16 17:29:49,357 - __main__ - INFO - 符号。预测准确率：0.359123
2023-04-16 17:29:49,357 - __main__ - INFO - 符号？预测准确率：0.009709
2023-04-16 17:29:49,357 - __main__ - INFO - 平均acc：0.252400

### Bert效果

bs = 32 , lr = 1e-5

2023-04-16 19:55:26,929 - __main__ - INFO - epoch 5 begin
2023-04-16 19:55:27,100 - __main__ - INFO - batch loss 0.030865
2023-04-16 19:56:49,710 - __main__ - INFO - batch loss 0.028629
2023-04-16 19:58:11,523 - __main__ - INFO - epoch average loss: 0.025674
2023-04-16 19:58:11,523 - __main__ - INFO - 开始测试第5轮模型效果：
2023-04-16 19:58:22,115 - __main__ - INFO - 符号预测准确率：0.994596
2023-04-16 19:58:22,115 - __main__ - INFO - 符号，预测准确率：0.769365
2023-04-16 19:58:22,115 - __main__ - INFO - 符号。预测准确率：0.796466
2023-04-16 19:58:22,115 - __main__ - INFO - 符号？预测准确率：0.732323
2023-04-16 19:58:22,115 - __main__ - INFO - 平均acc：0.823187

2023-04-16 19:43:11,618 - __main__ - INFO - gpu可以使用，迁移模型至gpu
2023-04-16 19:43:15,335 - __main__ - INFO - epoch 1 begin
2023-04-16 19:43:15,506 - __main__ - INFO - batch loss 1.529140
2023-04-16 19:44:35,914 - __main__ - INFO - batch loss 0.059100
2023-04-16 19:45:56,665 - __main__ - INFO - epoch average loss: 0.084168
2023-04-16 19:45:56,665 - __main__ - INFO - 开始测试第1轮模型效果：
2023-04-16 19:46:41,411 - __main__ - INFO - 符号预测准确率：0.995204
2023-04-16 19:46:41,411 - __main__ - INFO - 符号，预测准确率：0.755858
2023-04-16 19:46:41,411 - __main__ - INFO - 符号。预测准确率：0.709097
2023-04-16 19:46:41,411 - __main__ - INFO - 符号？预测准确率：0.626263
2023-04-16 19:46:41,411 - __main__ - INFO - 平均acc：0.771605
2023-04-16 19:46:41,411 - __main__ - INFO - --------------------
2023-04-16 19:46:41,413 - __main__ - INFO - epoch 2 begin
2023-04-16 19:46:41,581 - __main__ - INFO - batch loss 0.042910
2023-04-16 19:48:01,856 - __main__ - INFO - batch loss 0.052100
2023-04-16 19:49:25,879 - __main__ - INFO - epoch average loss: 0.047813
2023-04-16 19:49:25,879 - __main__ - INFO - 开始测试第2轮模型效果：
2023-04-16 19:49:36,939 - __main__ - INFO - 符号预测准确率：0.994293
2023-04-16 19:49:36,939 - __main__ - INFO - 符号，预测准确率：0.792592
2023-04-16 19:49:36,939 - __main__ - INFO - 符号。预测准确率：0.738874
2023-04-16 19:49:36,939 - __main__ - INFO - 符号？预测准确率：0.661616
2023-04-16 19:49:36,939 - __main__ - INFO - 平均acc：0.796844
2023-04-16 19:49:36,939 - __main__ - INFO - --------------------
2023-04-16 19:49:36,942 - __main__ - INFO - epoch 3 begin
2023-04-16 19:49:37,113 - __main__ - INFO - batch loss 0.028359
2023-04-16 19:50:59,132 - __main__ - INFO - batch loss 0.048360
2023-04-16 19:52:21,033 - __main__ - INFO - epoch average loss: 0.038526
2023-04-16 19:52:21,033 - __main__ - INFO - 开始测试第3轮模型效果：
2023-04-16 19:52:31,842 - __main__ - INFO - 符号预测准确率：0.995191
2023-04-16 19:52:31,842 - __main__ - INFO - 符号，预测准确率：0.800982
2023-04-16 19:52:31,842 - __main__ - INFO - 符号。预测准确率：0.733148
2023-04-16 19:52:31,842 - __main__ - INFO - 符号？预测准确率：0.732323
2023-04-16 19:52:31,843 - __main__ - INFO - 平均acc：0.815411
2023-04-16 19:52:31,843 - __main__ - INFO - --------------------
2023-04-16 19:52:31,845 - __main__ - INFO - epoch 4 begin
2023-04-16 19:52:32,017 - __main__ - INFO - batch loss 0.026845
2023-04-16 19:53:53,855 - __main__ - INFO - batch loss 0.030859
2023-04-16 19:55:15,973 - __main__ - INFO - epoch average loss: 0.031400
2023-04-16 19:55:15,973 - __main__ - INFO - 开始测试第4轮模型效果：
2023-04-16 19:55:26,927 - __main__ - INFO - 符号预测准确率：0.994635
2023-04-16 19:55:26,927 - __main__ - INFO - 符号，预测准确率：0.795866
2023-04-16 19:55:26,927 - __main__ - INFO - 符号。预测准确率：0.755890
2023-04-16 19:55:26,927 - __main__ - INFO - 符号？预测准确率：0.727273
2023-04-16 19:55:26,927 - __main__ - INFO - 平均acc：0.818416
2023-04-16 19:55:26,927 - __main__ - INFO - --------------------
2023-04-16 19:55:26,929 - __main__ - INFO - epoch 5 begin
2023-04-16 19:55:27,100 - __main__ - INFO - batch loss 0.030865
2023-04-16 19:56:49,710 - __main__ - INFO - batch loss 0.028629
2023-04-16 19:58:11,523 - __main__ - INFO - epoch average loss: 0.025674
2023-04-16 19:58:11,523 - __main__ - INFO - 开始测试第5轮模型效果：
2023-04-16 19:58:22,115 - __main__ - INFO - 符号预测准确率：0.994596
2023-04-16 19:58:22,115 - __main__ - INFO - 符号，预测准确率：0.769365
2023-04-16 19:58:22,115 - __main__ - INFO - 符号。预测准确率：0.796466
2023-04-16 19:58:22,115 - __main__ - INFO - 符号？预测准确率：0.732323
2023-04-16 19:58:22,115 - __main__ - INFO - 平均acc：0.823187
2023-04-16 19:58:22,115 - __main__ - INFO - --------------------
2023-04-16 19:58:22,117 - __main__ - INFO - epoch 6 begin
2023-04-16 19:58:22,282 - __main__ - INFO - batch loss 0.013253
2023-04-16 19:59:42,480 - __main__ - INFO - batch loss 0.020174
2023-04-16 20:01:02,996 - __main__ - INFO - epoch average loss: 0.020989
2023-04-16 20:01:02,996 - __main__ - INFO - 开始测试第6轮模型效果：
2023-04-16 20:01:13,866 - __main__ - INFO - 符号预测准确率：0.995012
2023-04-16 20:01:13,866 - __main__ - INFO - 符号，预测准确率：0.775709
2023-04-16 20:01:13,866 - __main__ - INFO - 符号。预测准确率：0.771597
2023-04-16 20:01:13,866 - __main__ - INFO - 符号？预测准确率：0.707071
2023-04-16 20:01:13,866 - __main__ - INFO - 平均acc：0.812347
2023-04-16 20:01:13,867 - __main__ - INFO - --------------------
